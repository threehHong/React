<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> map, filter, reduce </title>
    </head>

    <body>
        <p class="output_map"> </p>

        <p class="output_filter"> </p>

        <script>

            /****************************** 
            1. map 함수(내장 함수)
            - 주어진 배열을 가지고 새로운 배열을 생성하는 함수(함수와 반목문을 통해 새로운 배열 생성).
            - 콜백함수의 파라미터로 전달된 각 배열 요소를 정의한 로직을 거쳐 반환한 값으로 새로운 배열을 생성하는 함수
            - 배열.map((params1, params2) => { }) 에서 params1은 배열에서 각 항목의 item, params2는 각 배열의 순번.
            ******************************/
            console.log('---------- map -----------');
            
            const numbers = [1, 3, 5, 7, 9];
 
            // 콘솔 출력(for 반복문)
            for(i = 0; i<numbers.length; i ++) {
                console.log(numbers[i] * 2);
            }
            console.log('---------------------------');
            
            // 콘솔 출력(map)
            const listItems = numbers.map((number, idx) => {
                console.log(number * 2);
            });

            // 브라우저 출력(map)
            document.querySelector('.output_map').innerHTML = numbers.map((number) => {
                return number * 2;
            });


            /****************************** 
            2. filter 함수(내장 함수)
            - 주어진 배열에서 특정 조건을 만족하는 배열 요소만 뽑아 새로운 배열을 생성하는 함수(함수와 반목문을 통해 새로운 배열 생성).
            - 콜백함수의 파라미터로 전달된 각 배열 요소를 정의한 로직을 거쳐 참인 결과 값만 모아 배열로 반환하는 함수.
            ******************************/
            console.log('--------- filter ----------');

            const arr = [3, 10, 20, 4, 5, 'string'];

            const result = arr.filter((value) => {
                return value >= 10;

                /* if(value >= 10) {
                    console.log(value);
                    return true; // 조건을 만족하는 요소를 반환하기 위해 true를 반환(함수 종료?)
                }  */              
                /* return false; // 조건을 만족하지 않는 요소를 걸러내기 위해 flase를 반환 */
            })

            console.log(result);

            document.querySelector('.output_filter').innerHTML = result;


            /****************************** 
            3. reduce 함수(내장 함수)
            - 주어진 배열의 요소들의 합을 구해주는 함수.
            - arr.reduce(callback(accumulator, currentValue, index, array)).
              accumulator - 누적되는 값
              currentValue - 현재 배열의 요소
              index(생략가능) - 현재 배열 요소의 index
              array(생략가능) - reduce 함수를 호출한 배열
            ******************************/
            console.log('--------- reduce ----------');

            const numbers2 = [1, 3, 19, 100];

            const sum = numbers2.reduce((acc, cur, index, array) => {
                console.log(acc, cur, index, array);
                return acc + cur;
            })

            console.log(sum);
        </script>
    </body>
</html>